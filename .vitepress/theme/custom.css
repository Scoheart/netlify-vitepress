/* Hero image circular style - no other modifications */
.VPHero .VPImage {
  border-radius: 50%;
  overflow: hidden;
}

/* Custom theme colors */
:root {
  --vp-c-brand-1: #9b7ed9;
  --vp-c-brand-2: #b794f6;
  --vp-c-brand-3: #d4b8ff;
  --vp-c-brand-soft: rgba(155, 126, 217, 0.14);
}

.dark {
  --vp-c-brand-1: #b794f6;
  --vp-c-brand-2: #9b7ed9;
  --vp-c-brand-3: #7c5dc4;
  --vp-c-brand-soft: rgba(183, 148, 246, 0.16);
  --vp-c-bg: #000000;
  --vp-c-bg-alt: #000000;
  --vp-c-bg-elv: #0a0a0a;
  --vp-c-bg-soft: #0a0a0a;
}

/* Button with subtle glow on hover */
.VPButton.brand {
  background-color: var(--vp-c-brand-1);
  border-color: var(--vp-c-brand-1);
  transition: all 0.3s ease;
  position: relative; /* For ripple positioning */
  overflow: hidden; /* Clip ripple */
  animation: radar-pulse 2s infinite; /* Attention seeker */
}

/* Radar Pulse Animation */
@keyframes radar-pulse {
  0% {
    box-shadow: 0 0 0 0px rgba(155, 126, 217, 0.7);
  }
  100% {
    box-shadow: 0 0 0 20px rgba(155, 126, 217, 0);
  }
}

/* Ripple Animation */
.ripple {
  position: absolute;
  border-radius: 50%;
  transform: scale(0);
  animation: ripple 0.6s linear;
  background-color: rgba(255, 255, 255, 0.7);
  pointer-events: none; /* Don't block clicks */
}

@keyframes ripple {
  to {
    transform: scale(4);
    opacity: 0;
  }
}

.VPButton.brand:hover {
  background-color: var(--vp-c-brand-2);
  border-color: var(--vp-c-brand-2);
  box-shadow: 0 0 15px var(--vp-c-brand-soft);
  transform: translateY(-2px);
}

/* Feature card hover effect */
.VPFeature {
  position: relative;
  overflow: hidden; /* Clip the gradient that spills out */
  z-index: 0;
  border-radius: 12px; /* Ensure generic radius */
  transition: transform 0.3s ease; /* Keep transform transition */
  /* Glassmorphism Base Styles */
  border: 1px solid rgba(255, 255, 255, 0.1) !important; /* Subtle glass border */
  background: rgba(255, 255, 255, 0.05) !important; /* Glass base layer */
  backdrop-filter: blur(
    20px
  ) !important; /* Stronger blur for true glass feel */
  -webkit-backdrop-filter: blur(20px) !important;
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1); /* Glass depth */
  border-radius: 16px; /* High-quality roundness */
}

@keyframes card-breath {
  0% {
    box-shadow: 0 4px 20px -2px rgba(0, 0, 0, 0.2);
  }
  100% {
    box-shadow: 0 4px 30px 4px rgba(155, 126, 217, 0.15); /* Subtle purple pulse */
  }
}

/* Magic Card Effect - Gradient Border */
@property --rotate {
  syntax: "<angle>";
  initial-value: 132deg;
  inherits: false;
}

.VPFeature::before {
  content: "";
  position: absolute;
  z-index: -1;
  width: 104%; /* Slightly larger to ensure coverage */
  height: 104%;
  top: -2%;
  left: -2%;
  background: transparent;
  border-radius: inherit;
  /* Default hidden, show on hover */
  opacity: 0;
  transition: opacity 0.3s ease;
}

/* Background Mask + Noise Texture + Spotlight Base */
.VPFeature::after {
  content: "";
  position: absolute;
  z-index: -1;
  inset: 1px; /* The border width */
  border-radius: inherit;

  /* Glassmorphism Overlay: Noise + Subtle Tint */
  background-color: transparent; /* Let base glass showing through */

  /* Texture: Noise */
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
  background-size: 100px 100px;
  opacity: 1;
}

/* Spotlight Effect Layer */
.VPFeature:hover::after {
  /* Combine Noise-Background with Spotlight Gradient */
  background:
    radial-gradient(
      800px circle at var(--mouse-x) var(--mouse-y),
      rgba(255, 255, 255, 0.06),
      transparent 40%
    ),
    url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E"),
    var(--vp-c-bg-soft);
}

/* Hover State - Trigger Animation */
.VPFeature:hover {
  transform: translateY(-4px); /* Keep lift effect */
  /* Remove old border/shadow interactions as we use glowing border now */
}

.VPFeature:hover::before {
  opacity: 1;
  background-image: linear-gradient(
    var(--rotate),
    var(--vp-c-brand-1),
    var(--vp-c-brand-2) 43%,
    transparent 50%,
    transparent 100%
  );
  animation: spin 3s linear infinite;
}

/* Add a second layer for the "Glow" blur effect */
/* Add a second layer for the "Glow" blur effect */
.VPFeature:hover::after {
  /* Spotlight handles the inner look, this box-shadow adds outer depth */
  box-shadow: 0 0 30px rgba(155, 126, 217, 0.15);
}

/* Rotating Glow Layer (Behind) - Optional for stronger effect */
/* We can add a pseudo-element to ..VPFeature that is blurred and behind everything */

@keyframes spin {
  0% {
    --rotate: 0deg;
  }
  100% {
    --rotate: 360deg;
  }
}

/* Removed old hover styles */

/* Sidebar active link */
.VPSidebarItem.is-active > .item > .link > .text {
  color: var(--vp-c-brand-1);
}

/* Social links hover */
.VPSocialLinks a {
  transition: all 0.3s ease;
}

.VPSocialLinks a:hover {
  transform: translateY(-2px);
  filter: drop-shadow(0 0 6px var(--vp-c-brand-1));
}

/* Subtle glow on hero text in dark mode */
/* Subtle glow on hero text in dark mode */
.dark .VPHero .name {
  text-shadow: none; /* Remove shadow to let gradient shine */
}

@keyframes text-flow {
  0% {
    background-position: 200% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* --- Ultimate Mouse Effects --- */

/* 1. Magnetic Ring Cursor (Reverted to Star Rune ✦) */
#cursor-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9999;
}

#mouse-ring {
  position: absolute;
  width: 40px;
  height: 40px;
  /* Remove border from container, use pseudo-element for rotation */
  border: none;
  border-radius: 0;
  background-color: transparent; /* Clear fluid bg */
  pointer-events: none;
  mix-blend-mode: exclusion;
  transition:
    width 0.3s ease,
    height 0.3s ease;
  will-change: transform;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: none; /* Remove fluid pulse */
}

/* The Rune Shape (4-Pointed Star ✦) */
#mouse-ring::after {
  content: "";
  display: block;
  position: absolute;
  width: 100%;
  height: 100%;
  /* Use SVG for the specific 4-pointed star shape */
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 2L14.5 9.5L22 12L14.5 14.5L12 22L9.5 14.5L2 12L9.5 9.5L12 2Z' stroke='rgba(155, 126, 217, 0.9)' stroke-width='1.5' stroke-linejoin='round'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  border: none;
  border-radius: 0;
  animation: rune-spin 12s linear infinite;
}

#mouse-ring.active {
  width: 60px;
  height: 60px;
  background-color: transparent;
  animation: none;
}

#mouse-ring.active::after {
  /* Brighter stroke on active */
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 2L14.5 9.5L22 12L14.5 14.5L12 22L9.5 14.5L2 12L9.5 9.5L12 2Z' stroke='%23e9d5ff' stroke-width='2' stroke-linejoin='round'/%3E%3C/svg%3E");
  /* Add a subtle glow background */
  filter: drop-shadow(0 0 5px rgba(155, 126, 217, 0.5));
  animation: rune-spin 4s linear infinite; /* Fast spin on hover */
}

@keyframes rune-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* 2. Magic Dust Particles */
.magic-dust {
  position: fixed;
  width: 4px;
  height: 4px;
  background-color: var(--vp-c-brand-1);
  border-radius: 50%;
  pointer-events: none;
  animation: dust-fall 0.8s forwards;
  z-index: 9998;
}

@keyframes dust-fall {
  0% {
    opacity: 1;
    transform: translate(0, 0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translate(var(--tx), var(--ty)) scale(0);
  }
}

/* 3. Global Click Shockwave (Enhanced Design) */
.global-shockwave {
  position: fixed;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background-color: transparent;
  border: 2px solid rgba(155, 126, 217, 0.8); /* Sharp outer ring */
  transform: translate(-50%, -50%);
  pointer-events: none;
  animation: shockwave-ring 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
  z-index: 9998;
}

@keyframes shockwave-ring {
  0% {
    transform: translate(-50%, -50%) scale(0.5);
    opacity: 1;
    border-width: 4px;
  }
  100% {
    transform: translate(-50%, -50%) scale(8);
    opacity: 0;
    border-width: 0px;
    /* Secondary echo ring via shadow */
    box-shadow: 0 0 0 20px rgba(155, 126, 217, 0);
  }
}

/* Flowing Gradient Title Effect */
.VPHero .name {
  background: linear-gradient(
    to right,
    var(--vp-c-brand-1) 20%,
    var(--vp-c-brand-2) 40%,
    #ffffff 50%,
    var(--vp-c-brand-2) 60%,
    var(--vp-c-brand-1) 80%
  );
  background-size: 200% auto;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  -webkit-text-fill-color: transparent; /* Essential due to browser quirks */
  animation: text-flow 5s linear infinite;
}

@keyframes text-flow {
  0% {
    background-position: 200% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}
